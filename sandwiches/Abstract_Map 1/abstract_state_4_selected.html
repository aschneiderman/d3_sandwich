<DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Abstract State Map: Basic Recipe</title>
  <script src="http://d3js.org/d3.v3.min.js"></script>        <!-- d3 library -->
  <link href="../../sandwich.css" rel="stylesheet" media="screen">      <!-- sandwich's CSS -->
  <script src="abstract_state.js"></script>
</head>
<body>
  <div id="container">

    <div id="sandwich-heading">
      <h1> <img src="../../sandwich_icon.jpeg"  height="50" width="50">  d3 sandwich </h1>
      <div id="sandwich-border"></div>
    </div>

      <h2>Recipe: Abstract State Map</h2>
      <h3>Step #4: Changing the Color of Selected States</h3>
      <p>You're almost there! All you have left to do: change the color of the selected states. </p>

      <p> The nice thing: all the techniques you need to use are variations on the themes we've seen so far.</p>

      <p> {Toy: 4 slots for states, color}</p>

      <p> {Remember how we said sometimes you select? One reason we picked this recipe: now you're going to see it in action. This is a technique you use much less frequently, but we still thought it be good for you to see it on your first time out..}</p>

      <p> {what's the d.state for? We want to tell it to only pick the states in __. How does it know how to pick them? Essentially we are telling it to use states as a key}</p>

<div class="recipe_row">
<div class="recipe_text">
<p>
  (Rather than going line by line, show a translation of the code into the pattern that I see)
</p></div>
<div class="recipe_code">
  <br/>    <!-- br is a temp fix; fix the css so it isn't needed -->
  <pre>
var  state_map = [
    { "state": "ME", "row": 0, "col": 10 }</b>,
        { "state": "VT", "row": 1, "col": 9 },
        { "state": "NH", "row": 1, "col": 10 },
        ...

    ];

    // Put the name of each state on its rectangle
    svg_area.selectAll("text")
      .data(state_map)
      .enter()
      .append("text")
        .attr("x", function(d,i)  { return d.col * width + 108;})
        .attr("y", function(d,i) {return d.row * height +  26;})
        .text(function (d) { return d.state; })
        .style("font",   "16px sans-serif")
        .style("fill", "White")
        .style("pointer-events", "none");
</pre>
</div>
</div>  <!-- recipe_row -->

<p> For text, we've got a couple of additional commands:</p>
<ul>
  <li>text: the text we are going to put on the map</li>
  <li>font: the text's font</li>
  <li>pointer-events: make it so that if someone clicks on the text, it won't respond like text,
  which can be selected, it'll respond as if it's just part of the rectangle</li>
</ul>

<p>We also use a simple math trick here to solve a problem.</p>

<p> How do we get a state's name roughly centered in its rectangle?
  In a future month, we will learn a fancier trick for doing this: using grouping.
  Grouping is very powerful, but the code looks a little weird when you first see it --
and we think you've already had plenty of weird stuff to deal with.</p>

<p> For now, we will use a quick and dirty trick: if you add __ pixels to the text's
  height and width, it'll be close enough to being centered to be fine for now.</p>

<h2>Taking It out for a Spin</h2>
<p>Before we move on to the next recipe Step, let's play a little with the code.</p>





        <div id= "sandwich_footer">
        </div>
      </div>
    </body>
    </html>
